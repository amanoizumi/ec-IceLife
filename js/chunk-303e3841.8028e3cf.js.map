{"version":3,"sources":["webpack:///./src/views/frontend/WishList.vue?67b0","webpack:///src/views/frontend/WishList.vue","webpack:///./src/views/frontend/WishList.vue?cba0","webpack:///./src/views/frontend/WishList.vue","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/views/frontend/WishList.vue?1c87"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","wishProduct","length","_v","name","_e","_m","_l","item","key","id","imageUrl","_s","title","category","_f","price","preventDefault","addToCart","status","loadingItem","delWished","staticRenderFns","data","products","carts","wished","JSON","parse","localStorage","getItem","created","getProduct","methods","$http","get","url","getWish","filter","product","quantity","post","cart","wishId","splice","SweetAlert","icon","setItem","stringify","component","$","$indexOf","indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","target","proto","forced","searchElement","apply","arguments","undefined"],"mappings":"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","file":"js/chunk-303e3841.8028e3cf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wishlist\"},[_c('Loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('div',{staticClass:\"loadingio-spinner-ripple-icelifeloading\"},[_c('div',{staticClass:\"ldio-icelifeloading-style\"},[_c('div'),_c('div')])])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[(_vm.wishProduct.length == 0)?_c('div',{staticClass:\"noneitem text-center mt-5 mb-4\"},[_c('h2',{staticClass:\"font-weight-bold mb-4\"},[_vm._v(\"您的願望清單還沒有任何商品！\")]),_c('i',{staticClass:\"far fa-tired mb-5\"}),_c('br'),_c('router-link',{staticClass:\"btn btn-lg btn-primary rounded\",attrs:{\"to\":{ name: '前台產品頁面'}}},[_c('span',[_vm._v(\"來去逛逛\")])])],1):_vm._e(),(_vm.wishProduct.length > 0)?_c('div',{staticClass:\"mt-5\"},[_c('h3',{staticClass:\"text-primary mb-4\"},[_vm._v(\"我的願望清單\")]),_c('table',{staticClass:\"table border-bottom\"},[_vm._m(0),_c('tbody',{staticClass:\"wishlist-content\"},_vm._l((_vm.wishProduct),function(item){return _c('tr',{key:item.id,staticClass:\"text-center\"},[_c('td',[_c('img',{staticClass:\"wishlist-image\",attrs:{\"src\":item.imageUrl[0],\"alt\":\"\"}})]),_c('td',[_c('router-link',{attrs:{\"to\":(\"/product/\" + (item.id))}},[_c('p',[_c('strong',[_vm._v(_vm._s(item.title))])])])],1),_c('td',[_vm._v(_vm._s(item.category))]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(item.price)))]),_c('td',[_c('button',{staticClass:\"btn text-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(item.id)}}},[(_vm.status.loadingItem === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_c('i',{staticClass:\"fa fa-cart-plus\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('td',[_c('button',{staticClass:\"btn btn-outline-secondary btn-sm border-0\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.delWished(item.id)}}},[_vm._v(\" X \")])])])}),0)])]):_vm._e()])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{staticClass:\"table-primary text-center\"},[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"產品圖片\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"產品名稱\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"分類\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"價格\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"放入購物車\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"刪除\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wishlist\">\n    <Loading :active.sync=\"isLoading\">\n      <div class=\"loadingio-spinner-ripple-icelifeloading\">\n        <div class=\"ldio-icelifeloading-style\">\n          <div></div><div></div></div>\n        </div>\n    </Loading>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <!-- 無商品時顯示畫面開始 -->\n          <div v-if=\"wishProduct.length == 0\" class=\"noneitem text-center mt-5 mb-4\">\n            <h2 class=\"font-weight-bold mb-4\">您的願望清單還沒有任何商品！</h2>\n              <i class=\"far fa-tired mb-5\"></i><br>\n              <router-link\n                  class=\"btn btn-lg btn-primary rounded\"\n                  :to=\"{ name: '前台產品頁面'}\"\n                >\n                <span>來去逛逛</span>\n              </router-link>\n          </div>\n          <!-- 無商品時顯示畫面結束 -->\n          <div class=\"mt-5\" v-if=\"wishProduct.length > 0\">\n            <h3 class=\"text-primary mb-4\">我的願望清單</h3>\n            <table class=\"table border-bottom\">\n              <thead>\n                <tr class=\"table-primary text-center\">\n                  <th scope=\"col\">產品圖片</th>\n                  <th scope=\"col\">產品名稱</th>\n                  <th scope=\"col\">分類</th>\n                  <th scope=\"col\">價格</th>\n                  <th scope=\"col\">放入購物車</th>\n                  <th scope=\"col\">刪除</th>\n                </tr>\n              </thead>\n              <tbody class=\"wishlist-content\">\n                <tr class=\"text-center\" v-for=\"item in wishProduct\" :key=\"item.id\">\n                  <td>\n                    <img class=\"wishlist-image\" :src=\"item.imageUrl[0]\" alt=\"\">\n                  </td>\n                  <td>\n                    <router-link :to=\"`/product/${ item.id }`\">\n                      <p>\n                        <strong>{{ item.title }}</strong>\n                      </p>\n                    </router-link>\n                  </td>\n                  <td>{{ item.category }}</td>\n                  <td>{{ item.price | currency }}</td>\n                  <td>\n                    <button type=\"button\"\n                            class=\"btn text-primary\"\n                            @click.prevent=\"addToCart(item.id)\">\n                      <i class=\"fas fa-spinner fa-spin\"\n                          v-if=\"status.loadingItem === item.id\">\n                      </i>\n                      <i v-else\n                          class=\"fa fa-cart-plus\"\n                          aria-hidden=\"true\"></i>\n                    </button>\n                  </td>\n                  <td>\n                    <button type=\"button\"\n                            class=\"btn btn-outline-secondary btn-sm border-0\"\n                            @click.prevent=\"delWished(item.id)\">\n                      X\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport SweetAlert from '@/utils/SweetAlert';\n\nexport default {\n  name: 'WishList',\n  data() {\n    return {\n      products: [],\n      carts: [],\n      wishProduct: [],\n      wished: JSON.parse(localStorage.getItem('wishList')) || [],\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n    };\n  },\n  created() {\n    this.getProduct();\n  },\n  methods: {\n    getProduct() {\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UID}/ec/products`;\n      this.isLoading = true;\n      this.$http.get(url)\n        .then((res) => {\n          this.products = res.data.data;\n          console.log(this.products);\n          this.getWish();\n          this.isLoading = false;\n        })\n        .catch(() => {\n          SweetAlert.fire({\n            title: '取不到願望清單資料',\n            icon: 'error',\n          });\n          this.isLoading = false;\n        });\n    },\n    getWish() {\n      this.wishProduct = this.products.filter(\n        (product) => this.wished.indexOf(product.id) > -1,\n      );\n    },\n    addToCart(id, quantity = 1) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UID}/ec/shopping`;\n      const cart = {\n        product: id,\n        quantity,\n      };\n      this.$http.post(url, cart)\n        .then(() => {\n          this.$bus.$emit('update-total');\n          SweetAlert.fire({\n            title: '已加入購物車!',\n            icon: 'success',\n          });\n          this.status.loadingItem = '';\n        })\n        .catch((err) => {\n          const errorData = err.response.data.errors;\n          if (errorData) {\n            SweetAlert.fire({\n              title: `${errorData}`,\n              icon: 'warning',\n            });\n          }\n          this.status.loadingItem = '';\n        });\n    },\n    delWished(id) {\n      const wishId = this.wished.indexOf(id);\n      if (wishId !== -1) {\n        this.wished.splice(wishId, 1);\n        this.getWish();\n        SweetAlert.fire({\n          title: '已從願望清單刪除',\n          icon: 'success',\n        });\n      }\n      localStorage.setItem('wishList', JSON.stringify(this.wished));\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.wishlist {\n  min-height: 80vh;\n  .fa-tired {\n    font-size: 250px;\n  }\n  &-content td{\n    vertical-align: middle;\n  }\n  &-image {\n    max-width: 80px;\n  }\n}\n\n.noneitem {\n  color: #afafaf;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WishList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WishList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WishList.vue?vue&type=template&id=096720bd&scoped=true&\"\nimport script from \"./WishList.vue?vue&type=script&lang=js&\"\nexport * from \"./WishList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WishList.vue?vue&type=style&index=0&id=096720bd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"096720bd\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WishList.vue?vue&type=style&index=0&id=096720bd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WishList.vue?vue&type=style&index=0&id=096720bd&lang=scss&scoped=true&\""],"sourceRoot":""}